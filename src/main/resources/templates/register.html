<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">
    <meta charset="UTF-8"/>
    <title>Register</title>
    <link rel="stylesheet" href="/main.css" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.3.1/dist/semantic.min.js"></script>
</head>
<body>

<div th:if="${param.success}">
    <div class="alert alert-info">
        You've successfully registered to Acebook!
    </div>
</div>


<form th:action="@{/users}" th:object="${user}" id="registerForm" method="post">

    <div class="form-group ui input focus"
         th:classappend="${#fields.hasErrors('username')}? 'has-error':''">
        <label for="username" class="control-label">Username</label>
        <input id="username"
               class="form-control"
               th:field="*{username}"/>
        <p class="error-message"
           th:each="error : ${#fields.errors('username')}"
           th:text="${error}">Validation error</p>
    </div>
    <div class="form-group ui input focus"
         th:classappend="${#fields.hasErrors('email')}? 'has-error':''">
        <label for="email" class="control-label">E-mail</label>
        <input id="email"
               class="form-control"
               th:field="*{email}"/>
        <p class="error-message"
           th:each="error : ${#fields.errors('email')}"
           th:text="${error}">Validation error</p>
    </div>
    <div class="form-group ui input focus"
         th:classappend="${#fields.hasErrors('password')}? 'has-error':''">
        <label for="password" class="control-label">Password</label>
        <input id="password"
               class="form-control"
               type="password"
               th:field="*{password}"/>
        <p class="error-message"
           th:each="error : ${#fields.errors('password')}"
           th:text="${error}">Validation error</p>
    </div>
    <div class="form-group">
        <button type="submit" class="ui button primary">Register</button>
    </div>
    <div class="form-group">
       <a id="loginLink" href="/login">Login</a>
    </div>
    <p class="error-message"
       th:if="${#fields.hasGlobalErrors()}"
       th:each="error : ${#fields.errors('global')}"
       th:text="${error}">Validation error</p>
</form>

</body>
</html>